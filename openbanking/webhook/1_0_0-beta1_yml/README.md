# webhook-1-0-0-beta1-yml
API de Webhook é responsável por notificar eventos definidos em cada uma das APIs que possuem a funcionalidade no Open Finance Brasil.  <u>Endpoints que possuem a funcionalidade de Webhook</u> <br/>  Na versão atual, temos os seguintes endpoints:   API Payments v2:   - POST /pix/payments   - POST /consents  # Orientações <u>Todos os endpoints nessa API utilizam-se de mTLS para autenticação, não possuem scopes e permissions específicos de segurança. Toda a segurança é feita via certificado(mTLS – BRCAC).</u>  Dado que as URLs do ecossistema são formadas com a configuração abaixo:   \\<host> / \\<string> / \\<api> / \\<versão> / \\<recurso>  <u>Para a utilização desse recurso é necessário que:</u> - Iniciadoras de pagamentos e/ou Receptora de dados: Precisam cadastrar a sua URI base (\\<host>) no diretório de participantes no campo `<CAMPO_A_DEFINIR>`, - Detentoras de contas e/ou Transmissora de dados: Precisam construir a URI de notificação da seguinte forma:  <u>Exemplo de URI do consentimento:</u> <br/> <br/> <img src=\"./img/image001.png\" alt=\"Image Webhook\"/> <br/> <br/>  <u>Exemplo de URI do pagamento:</u> <br/> <br/> <img src=\"./img/image002.png\" alt=\"Image Webhook\"/> 

This Python package is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 1.0.0-beta1
- Package version: 1.0.0
- Build package: io.swagger.codegen.v3.generators.python.PythonClientCodegen
For more information, please visit [https://openbanking-brasil.github.io/areadesenvolvedor/](https://openbanking-brasil.github.io/areadesenvolvedor/)

## Requirements.

Python 2.7 and 3.4+

## Installation & Usage
### pip install

If the python package is hosted on Github, you can install directly from Github

```sh
pip install git+https://github.com/GIT_USER_ID/GIT_REPO_ID.git
```
(you may need to run `pip` with root permission: `sudo pip install git+https://github.com/GIT_USER_ID/GIT_REPO_ID.git`)

Then import the package:
```python
import webhook_1_0_0-beta1_yml 
```

### Setuptools

Install via [Setuptools](http://pypi.python.org/pypi/setuptools).

```sh
python setup.py install --user
```
(or `sudo python setup.py install` to install the package for all users)

Then import the package:
```python
import webhook_1_0_0-beta1_yml
```

## Getting Started

Please follow the [installation procedure](#installation--usage) and then run the following:

```python
from __future__ import print_function
import time
import webhook_1_0_0-beta1_yml
from webhook_1_0_0-beta1_yml.rest import ApiException
from pprint import pprint

# Configure OAuth2 access token for authorization: OAuth2ClientCredentials
configuration = webhook_1_0_0-beta1_yml.Configuration()
configuration.access_token = 'YOUR_ACCESS_TOKEN'

# create an instance of the API class
api_instance = webhook_1_0_0-beta1_yml.ConsentNotificationApi(webhook_1_0_0-beta1_yml.ApiClient(configuration))
body = webhook_1_0_0-beta1_yml.RequestBodyWebhook() # RequestBodyWebhook | Payload para criação do consentimento para iniciação do pagamento.
x_webhook_interaction_id = 'x_webhook_interaction_id_example' # str | Identificador único para cada tentativa de notificação realizada. O identificador deverá seguir o padrão UID [RFC4122](https://tools.ietf.org/html/rfc4122).
consent_id = 'consent_id_example' # str | O consentId é o identificador único do consentimento e deverá ser um URN - Uniform Resource Name.   Um URN, conforme definido na [RFC8141](https://tools.ietf.org/html/rfc8141) é um Uniform Resource  Identifier - URI - que é atribuído sob o URI scheme \"urn\" e um namespace URN específico, com a intenção de que o URN  seja um identificador de recurso persistente e independente da localização.   Considerando a string urn:bancoex:C1DD33123 como exemplo para consentId temos: - o namespace(urn) - o identificador associado ao namespace da instituição transnmissora (bancoex)  - o identificador específico dentro do namespace (C1DD33123).   Informações mais detalhadas sobre a construção de namespaces devem ser consultadas na [RFC8141](https://tools.ietf.org/html/rfc8141). 
version_api = 'version_api_example' # str | Identifica a versão da API que deverá ser utilizada para recebimento da notificação via webhook

try:
    # Notificações de mudanças de estados de consentimentos da API de Iniciação de Pagamentos.
    api_instance.consent_notification(body, x_webhook_interaction_id, consent_id, version_api)
except ApiException as e:
    print("Exception when calling ConsentNotificationApi->consent_notification: %s\n" % e)
```

## Documentation for API Endpoints

All URIs are relative to *https://api.banco.com.br/open-banking/webhook/v1*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*ConsentNotificationApi* | [**consent_notification**](docs/ConsentNotificationApi.md#consent_notification) | **POST** /payments/{versionApi}/consents/{consentId} | Notificações de mudanças de estados de consentimentos da API de Iniciação de Pagamentos.
*PixPaymentNotificationApi* | [**pix_payment_notification**](docs/PixPaymentNotificationApi.md#pix_payment_notification) | **POST** /payments/{versionApi}/pix/payments/{paymentId} | Notificações de mudanças de estados do pagamento: Arranjo Pix da API de Iniciação de Pagamentos.

## Documentation For Models

 - [RequestBodyWebhook](docs/RequestBodyWebhook.md)
 - [RequestBodyWebhookData](docs/RequestBodyWebhookData.md)
 - [XWebhookInteractionId](docs/XWebhookInteractionId.md)

## Documentation For Authorization


## OAuth2AuthorizationCode

- **Type**: OAuth
- **Flow**: accessCode
- **Authorization URL**: https://authserver.example/token
- **Scopes**: 
 - **payments**: Escopo necessário para acesso à API Payment Initiation.

## OAuth2ClientCredentials

- **Type**: OAuth
- **Flow**: application
- **Authorization URL**: 
- **Scopes**: 
 - **payments**: Escopo necessário para acesso à API Payment Initiation.

## OpenId



## Author

gt-interfaces@openbankingbr.org
